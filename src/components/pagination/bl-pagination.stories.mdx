import { html } from 'lit';
import { ifDefined } from 'lit/directives/if-defined.js';
import { styleMap } from 'lit/directives/style-map.js';
import { unsafeHTML } from 'lit/directives/unsafe-html.js';
import { Meta, Canvas, ArgsTable, Story } from '@storybook/addon-docs';

<Meta
  title="Components/Pagination"
  component="bl-pagination"
  argTypes={{
     totalItems: {
       control: {
        type: 'number',
        default:1500
      }
    },
     itemsPerPage: {
       control: {
        type: 'number',
        default:10
      }
    },
   hasJumper: {
      control: {
        type: 'boolean',
        default:true
      }
    },
    jumperLabel: {
       control: {
        type: 'text',
        default:"Go To"
      }
    },
   hasSelect: {
      control: {
        type: 'boolean',
        default:true
      }
    },
    selectLabel: {
      control: {
        type: 'text',
        default:"Show"
      }
    },
    itemsPerPageOptions: {
      control: {
        type: 'array',
        default:[
            {
              text: '100 Sonuç',
              value: 100,
            },
            {
              text: '250 Sonuç',
              value: 250,
            },
            {
              text: '500 Sonuç',
              value: 500,
            },
            {
              text: '1000 Sonuç',
              value: 1000,
            }]
      }
    },
  }}
/>

export const PaginationTemplate = (args) => html`<bl-pagination
      class=${ifDefined(args.class)}
      current-page=${ifDefined(args.currentPage)}
      total-items=${ifDefined(args.totalItems)}
      items-per-page=${ifDefined(args.itemsPerPage)}
      has-jumper=${ifDefined(args.hasJumper)}
      jumper-label=${ifDefined(args.jumperLabel)}
      has-select=${ifDefined(args.hasSelect)}
      select-label=${ifDefined(args.selectLabel)}
      .itemsPerPageOptions=${ifDefined(args.itemsPerPageOptions)}
      ></bl-pagination>
  `
export const PaginationTemplateWithStyle = (args) => html`
<style>
  .${args.class} {
    --bl-pagination-page-size-width: ${args.pageSizeWidth};
  }
</style>
${PaginationTemplate(args)}
`

# Pagination

<bl-badge icon="document">[ADR](https://github.com/Trendyol/baklava/issues/139)</bl-badge>
<bl-badge icon="puzzle">[Figma](https://www.figma.com/file/RrcLH0mWpIUy4vwuTlDeKN/Baklava-Design-Guide?node-id=118%3A4074)</bl-badge>

The Pagination component enables the user to select a specific page from a range of pages. Number of content per page can also be selected by the user


## Simple Pagination
Use a simple pagination for navigating to the next or previous page or a selected page.

<Canvas>
<Story name="Basic Usage" args={{currentPage:1,totalItems:1500}}>
    {PaginationTemplate.bind({})}
  </Story>
</Canvas>

## Jumper
Use the jumper to directly go to a specific page.

<Canvas>
<Story name="Jumper" args={{currentPage:1,totalItems:1500,hasJumper:true}}>
    {PaginationTemplate.bind({})}
  </Story>
</Canvas>

## Select
Use the select helper to change the number of items per page.

<Canvas>
<Story name="Select" args={{currentPage:1,totalItems:1500,hasSelect:true}}>
    {PaginationTemplate.bind({})}
  </Story>
</Canvas>

## Customization
The labels and the texts of the jumper and select element are fully customizable. The default select options can also be changed.

<Canvas>
<Story name="Customization"  args={{
  currentPage:1,
  totalItems:1500,
  itemsPerPage:100,
  hasJumper:true,
  jumperLabel:"Sayfaya Git",
  hasSelect:true,
  selectLabel:"Sayfa Başına",
  itemsPerPageOptions:[
  {
    text: '100 Sonuç',
    value: 100,
  },
  {
    text: '250 Sonuç',
    value: 250,
  },
  {
    text: '500 Sonuç',
    value: 500,
  },
  {
    text: '1000 Sonuç',
    value: 1000,
  }]
  }}>
    {PaginationTemplate.bind({})}
  </Story>
</Canvas>

To set a custom options list for `bl-pagination`, use the **itemsPerPageOptions** property as an array of objects containing `value` and `text`. Check the example below:

```html
<bl-pagination current-page="1" total-items="1500" items-per-page="100" has-jumper="true" jumper-label="Sayfaya Git" has-select="true" select-label="Sayfa Başına"></bl-pagination>

<script>
  const blPagination = document.querySelector('bl-pagination');

  blPagination.itemsPerPageOptions = [
    {
      text: '100 Sonuç',
      value: 100,
    },
    {
      text: '250 Sonuç',
      value: 250,
    },
    {
      text: '500 Sonuç',
      value: 500,
    },
    {
      text: '1000 Sonuç',
      value: 1000,
    }
  ]
</script>
```

### Customizing styles

Currently pagination component uses other Baklava components internally (`bl-select`, `bl-input`, `bl-button`). So you are able yo customize them with their respected CSS variables.

Also you can set width page size field with `--bl-pagination-page-size-width` CSS variable.

<Canvas>
<Story name="Customizing Page Size Width" args={{
class: 'page-size-width-example',
totalItems:15000,
hasJumper:true,
hasSelect:true,
pageSizeWidth: '144px',
itemsPerPage: 1000,
itemsPerPageOptions:
[
  {
    text: '100 Products',
    value: 100,
  },
  {
    text: '250 Products',
    value: 250,
  },
  {
    text: '500 Products',
    value: 500,
  },
  {
    text: '1000 Products',
    value: 1000,
  }
]
}}>
    {PaginationTemplateWithStyle.bind({})}
  </Story>
</Canvas>

## Reference

<ArgsTable of="bl-pagination" />


